# Dockerfile.dev - Development environment for WSL/Docker
FROM node:20-alpine

# Install pnpm
RUN npm install -g pnpm@9.15.0

# Set working directory
WORKDIR /app

# Copy package files
COPY package.json pnpm-lock.yaml pnpm-workspace.yaml ./

# Copy workspace packages
COPY apps/ ./apps/
COPY packages/ ./packages/

# Install dependencies
RUN pnpm install --frozen-lockfile

# Expose ports
# 3000 - Next.js Web App
# 3001 - Vite Playground
# 3002 - Ladle Stories
EXPOSE 3000 3001 3002

# Default command
CMD ["pnpm", "dev"]
