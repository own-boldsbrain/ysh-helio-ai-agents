"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@oslojs+jwt@0.2.0";
exports.ids = ["vendor-chunks/@oslojs+jwt@0.2.0"];
exports.modules = {

/***/ "(rsc)/../../node_modules/.pnpm/@oslojs+jwt@0.2.0/node_modules/@oslojs/jwt/dist/index.js":
/*!*****************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@oslojs+jwt@0.2.0/node_modules/@oslojs/jwt/dist/index.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JWSRegisteredHeaders: () => (/* binding */ JWSRegisteredHeaders),\n/* harmony export */   JWTClaims: () => (/* binding */ JWTClaims),\n/* harmony export */   createJWTSignatureMessage: () => (/* binding */ createJWTSignatureMessage),\n/* harmony export */   decodeJWT: () => (/* binding */ decodeJWT),\n/* harmony export */   encodeJWT: () => (/* binding */ encodeJWT),\n/* harmony export */   joseAlgorithmES256: () => (/* binding */ joseAlgorithmES256),\n/* harmony export */   joseAlgorithmHS256: () => (/* binding */ joseAlgorithmHS256),\n/* harmony export */   joseAlgorithmRS256: () => (/* binding */ joseAlgorithmRS256),\n/* harmony export */   parseJWT: () => (/* binding */ parseJWT)\n/* harmony export */ });\n/* harmony import */ var _oslojs_encoding__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @oslojs/encoding */ \"(rsc)/../../node_modules/.pnpm/@oslojs+encoding@0.4.1/node_modules/@oslojs/encoding/dist/index.js\");\n\nfunction parseJWT(jwt) {\n    const parts = jwt.split(\".\");\n    if (parts.length !== 3) {\n        throw new Error(\"Invalid JWT\");\n    }\n    let jsonHeader;\n    let jsonPayload;\n    let signature;\n    try {\n        jsonHeader = new TextDecoder().decode((0,_oslojs_encoding__WEBPACK_IMPORTED_MODULE_0__.decodeBase64urlIgnorePadding)(parts[0]));\n        jsonPayload = new TextDecoder().decode((0,_oslojs_encoding__WEBPACK_IMPORTED_MODULE_0__.decodeBase64urlIgnorePadding)(parts[1]));\n        signature = (0,_oslojs_encoding__WEBPACK_IMPORTED_MODULE_0__.decodeBase64urlIgnorePadding)(parts[2]);\n    }\n    catch {\n        throw new Error(\"Invalid JWT: Invalid base64url encoding\");\n    }\n    let header;\n    let payload;\n    try {\n        header = JSON.parse(jsonHeader);\n        payload = JSON.parse(jsonPayload);\n    }\n    catch {\n        throw new Error(\"Invalid JWT: Invalid JSON encoding\");\n    }\n    if (typeof header !== \"object\" || header === null) {\n        throw new Error(\"Invalid JWT: Invalid header\");\n    }\n    if (typeof payload !== \"object\" || payload === null) {\n        throw new Error(\"Invalid JWT: Invalid payload\");\n    }\n    const signatureMessage = new TextEncoder().encode(parts[0] + \".\" + parts[1]);\n    return [header, payload, signature, signatureMessage];\n}\nfunction decodeJWT(jwt) {\n    const parts = jwt.split(\".\");\n    if (parts.length !== 3) {\n        throw new Error(\"Invalid JWT\");\n    }\n    let jsonPayload;\n    try {\n        jsonPayload = new TextDecoder().decode((0,_oslojs_encoding__WEBPACK_IMPORTED_MODULE_0__.decodeBase64urlIgnorePadding)(parts[1]));\n    }\n    catch {\n        throw new Error(\"Invalid JWT: Invalid base64url encoding\");\n    }\n    let payload;\n    try {\n        payload = JSON.parse(jsonPayload);\n    }\n    catch {\n        throw new Error(\"Invalid JWT: Invalid JSON encoding\");\n    }\n    if (typeof payload !== \"object\" || payload === null) {\n        throw new Error(\"Invalid JWT: Invalid payload\");\n    }\n    return payload;\n}\nfunction encodeJWT(headerJSON, payloadJSON, signature) {\n    const encodedHeader = (0,_oslojs_encoding__WEBPACK_IMPORTED_MODULE_0__.encodeBase64urlNoPadding)(new TextEncoder().encode(headerJSON));\n    const encodedPayload = (0,_oslojs_encoding__WEBPACK_IMPORTED_MODULE_0__.encodeBase64urlNoPadding)(new TextEncoder().encode(payloadJSON));\n    const encodedSignature = (0,_oslojs_encoding__WEBPACK_IMPORTED_MODULE_0__.encodeBase64urlNoPadding)(signature);\n    const jwt = encodedHeader + \".\" + encodedPayload + \".\" + encodedSignature;\n    return jwt;\n}\nfunction createJWTSignatureMessage(headerJSON, payloadJSON) {\n    const encodedHeader = (0,_oslojs_encoding__WEBPACK_IMPORTED_MODULE_0__.encodeBase64urlNoPadding)(new TextEncoder().encode(headerJSON));\n    const encodedPayload = (0,_oslojs_encoding__WEBPACK_IMPORTED_MODULE_0__.encodeBase64urlNoPadding)(new TextEncoder().encode(payloadJSON));\n    const message = encodedHeader + \".\" + encodedPayload;\n    return new TextEncoder().encode(message);\n}\nclass JWTClaims {\n    target;\n    constructor(target) {\n        this.target = target;\n    }\n    hasIssuer() {\n        return \"iss\" in this.target;\n    }\n    issuer() {\n        if (\"iss\" in this.target && typeof this.target.iss === \"string\") {\n            return this.target.iss;\n        }\n        throw new Error(\"Invalid or missing 'iss' claim\");\n    }\n    hasSubject() {\n        return \"sub\" in this.target;\n    }\n    subject() {\n        if (\"sub\" in this.target && typeof this.target.sub === \"string\") {\n            return this.target.sub;\n        }\n        throw new Error(\"Invalid or missing 'sub' claim\");\n    }\n    hasAudiences() {\n        return \"aud\" in this.target;\n    }\n    audiences() {\n        if (\"aud\" in this.target && typeof this.target.aud === \"string\") {\n            const audiences = [this.target.aud];\n            return audiences;\n        }\n        if (\"aud\" in this.target && Array.isArray(this.target.aud)) {\n            for (const audience in this.target.aud) {\n                if (typeof audience !== \"string\") {\n                    throw new Error(\"Invalid or missing 'aud' claim\");\n                }\n            }\n            return this.target.aud;\n        }\n        throw new Error(\"Invalid or missing 'aud' claim\");\n    }\n    hasExpiration() {\n        return \"exp\" in this.target;\n    }\n    expiration() {\n        if (\"exp\" in this.target &&\n            typeof this.target.exp === \"number\" &&\n            this.target.exp >= 0 &&\n            Number.isInteger(this.target.exp)) {\n            return new Date(this.target.exp * 1000);\n        }\n        throw new Error(\"Invalid or missing 'exp' claim\");\n    }\n    verifyExpiration() {\n        if (\"exp\" in this.target &&\n            typeof this.target.exp === \"number\" &&\n            this.target.exp >= 0 &&\n            Number.isInteger(this.target.exp)) {\n            return Date.now() < this.target.exp * 1000;\n        }\n        throw new Error(\"Invalid or missing 'exp' claim\");\n    }\n    hasNotBefore() {\n        return \"nbf\" in this.target;\n    }\n    notBefore() {\n        if (\"nbf\" in this.target &&\n            typeof this.target.nbf === \"number\" &&\n            this.target.nbf >= 0 &&\n            Number.isInteger(this.target.nbf)) {\n            return new Date(this.target.nbf * 1000);\n        }\n        throw new Error(\"Invalid or missing 'nbf' claim\");\n    }\n    verifyNotBefore() {\n        if (\"nbf\" in this.target &&\n            typeof this.target.nbf === \"number\" &&\n            this.target.nbf >= 0 &&\n            Number.isInteger(this.target.nbf)) {\n            return Date.now() >= this.target.nbf * 1000;\n        }\n        throw new Error(\"Invalid or missing 'nbf' claim\");\n    }\n    hasIssuedAt() {\n        return \"iat\" in this.target;\n    }\n    issuedAt() {\n        if (\"iat\" in this.target &&\n            typeof this.target.iat === \"number\" &&\n            this.target.iat >= 0 &&\n            Number.isInteger(this.target.iat)) {\n            return new Date(this.target.iat * 1000);\n        }\n        throw new Error(\"Invalid or missing 'iat' claim\");\n    }\n    hasJWTId() {\n        return \"jti\" in this.target;\n    }\n    jwtId() {\n        if (\"jti\" in this.target && typeof this.target.jti === \"string\") {\n            return this.target.jti;\n        }\n        throw new Error(\"Invalid or missing 'jti' claim\");\n    }\n}\nclass JWSRegisteredHeaders {\n    target;\n    constructor(target) {\n        this.target = target;\n    }\n    hasAlgorithm() {\n        return \"alg\" in this.target;\n    }\n    algorithm() {\n        if (\"alg\" in this.target && typeof this.target.alg === \"string\") {\n            return this.target.alg;\n        }\n        throw new Error(\"Invalid or missing 'alg' claim\");\n    }\n    hasJWKSetURL() {\n        return \"jku\" in this.target;\n    }\n    jwkSetURL() {\n        if (\"jku\" in this.target && typeof this.target.jku === \"string\") {\n            return this.target.jku;\n        }\n        throw new Error(\"Invalid or missing 'jku' claim\");\n    }\n    hasJWK() {\n        return \"jwk\" in this.target;\n    }\n    jwk() {\n        if (\"jwk\" in this.target && typeof this.target.jwk === \"string\") {\n            return this.target.jwk;\n        }\n        throw new Error(\"Invalid or missing 'jwk' claim\");\n    }\n    hasKeyId() {\n        return \"kid\" in this.target;\n    }\n    keyId() {\n        if (\"kid\" in this.target && typeof this.target.kid === \"string\") {\n            return this.target.kid;\n        }\n        throw new Error(\"Invalid or missing 'kid' claim\");\n    }\n    hasX509URL() {\n        return \"x5u\" in this.target;\n    }\n    x509URL() {\n        if (\"x5u\" in this.target && typeof this.target.x5u === \"string\") {\n            return this.target.x5u;\n        }\n        throw new Error(\"Invalid or missing 'x5u' claim\");\n    }\n    hasX509CertificateChain() {\n        return \"x5c\" in this.target;\n    }\n    x509CertificateChain() {\n        if (\"x5c\" in this.target && Array.isArray(this.target.x5c)) {\n            if (this.target.x5c.length === 0) {\n                throw new Error(\"Invalid or missing 'x5c' claim\");\n            }\n            const chain = [];\n            for (const encoded of this.target.x5c) {\n                if (typeof encoded !== \"string\") {\n                    throw new Error(\"Invalid or missing 'x5c' claim\");\n                }\n                try {\n                    chain.push((0,_oslojs_encoding__WEBPACK_IMPORTED_MODULE_0__.decodeBase64)(encoded));\n                }\n                catch {\n                    throw new Error(\"Invalid or missing 'x5c' claim\");\n                }\n            }\n            return chain;\n        }\n        throw new Error(\"Invalid or missing 'x5c' claim\");\n    }\n    hasX509CertificateSHA1Thumbprint() {\n        return \"x5t\" in this.target;\n    }\n    x509CertificateSHA1Thumbprint() {\n        if (\"x5t\" in this.target && typeof this.target.x5t === \"string\") {\n            try {\n                const thumbprint = (0,_oslojs_encoding__WEBPACK_IMPORTED_MODULE_0__.decodeBase64urlIgnorePadding)(this.target.x5t);\n                return thumbprint;\n            }\n            catch {\n                throw new Error(\"Invalid or missing 'x5t' claim\");\n            }\n        }\n        throw new Error(\"Invalid or missing 'x5t' claim\");\n    }\n    hasX509CertificateSHA256Thumbprint() {\n        return \"x5t#S256\" in this.target;\n    }\n    x509CertificateSHA256Thumbprint() {\n        if (\"x5t#S256\" in this.target && typeof this.target[\"x5t#S256\"] === \"string\") {\n            try {\n                const thumbprint = (0,_oslojs_encoding__WEBPACK_IMPORTED_MODULE_0__.decodeBase64urlIgnorePadding)(this.target[\"x5t#S256\"]);\n                return thumbprint;\n            }\n            catch {\n                throw new Error(\"Invalid or missing 'x5t#S256' claim\");\n            }\n        }\n        throw new Error(\"Invalid or missing 'x5t#S256' claim\");\n    }\n    hasType() {\n        return \"typ\" in this.target;\n    }\n    type() {\n        if (\"typ\" in this.target && typeof this.target.typ === \"string\") {\n            return this.target.typ;\n        }\n        throw new Error(\"Invalid or missing 'typ' claim\");\n    }\n    hasContentType() {\n        return \"cty\" in this.target;\n    }\n    contentType() {\n        if (\"cty\" in this.target && typeof this.target.cty === \"string\") {\n            return this.target.cty;\n        }\n        throw new Error(\"Invalid or missing 'cty' claim\");\n    }\n    hasCritical() {\n        return \"crit\" in this.target;\n    }\n    critical() {\n        if (\"crit\" in this.target && Array.isArray(this.target.crit)) {\n            if (this.target.crit.length === 0) {\n                throw new Error(\"Invalid or missing 'crit' claim\");\n            }\n            for (const audience in this.target.crit) {\n                if (typeof audience !== \"string\") {\n                    throw new Error(\"Invalid or missing 'crit' claim\");\n                }\n            }\n            return this.target.crit;\n        }\n        throw new Error(\"Invalid or missing 'crit' claim\");\n    }\n}\nconst joseAlgorithmHS256 = \"HS256\";\nconst joseAlgorithmES256 = \"ES256\";\nconst joseAlgorithmRS256 = \"RS256\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0Bvc2xvanMrand0QDAuMi4wL25vZGVfbW9kdWxlcy9Ab3Nsb2pzL2p3dC9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBd0c7QUFDakc7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLDhFQUE0QjtBQUMxRSwrQ0FBK0MsOEVBQTRCO0FBQzNFLG9CQUFvQiw4RUFBNEI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyw4RUFBNEI7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLDBCQUEwQiwwRUFBd0I7QUFDbEQsMkJBQTJCLDBFQUF3QjtBQUNuRCw2QkFBNkIsMEVBQXdCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsMEJBQTBCLDBFQUF3QjtBQUNsRCwyQkFBMkIsMEVBQXdCO0FBQ25EO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLDhEQUFZO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyw4RUFBNEI7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyw4RUFBNEI7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvcm9va2llL3Byb2plY3RzL2NvZGluZy1hZ2VudC10ZW1wbGF0ZS9ub2RlX21vZHVsZXMvLnBucG0vQG9zbG9qcytqd3RAMC4yLjAvbm9kZV9tb2R1bGVzL0Bvc2xvanMvand0L2Rpc3QvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVjb2RlQmFzZTY0LCBkZWNvZGVCYXNlNjR1cmxJZ25vcmVQYWRkaW5nLCBlbmNvZGVCYXNlNjR1cmxOb1BhZGRpbmcgfSBmcm9tIFwiQG9zbG9qcy9lbmNvZGluZ1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlSldUKGp3dCkge1xuICAgIGNvbnN0IHBhcnRzID0gand0LnNwbGl0KFwiLlwiKTtcbiAgICBpZiAocGFydHMubGVuZ3RoICE9PSAzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgSldUXCIpO1xuICAgIH1cbiAgICBsZXQganNvbkhlYWRlcjtcbiAgICBsZXQganNvblBheWxvYWQ7XG4gICAgbGV0IHNpZ25hdHVyZTtcbiAgICB0cnkge1xuICAgICAgICBqc29uSGVhZGVyID0gbmV3IFRleHREZWNvZGVyKCkuZGVjb2RlKGRlY29kZUJhc2U2NHVybElnbm9yZVBhZGRpbmcocGFydHNbMF0pKTtcbiAgICAgICAganNvblBheWxvYWQgPSBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUoZGVjb2RlQmFzZTY0dXJsSWdub3JlUGFkZGluZyhwYXJ0c1sxXSkpO1xuICAgICAgICBzaWduYXR1cmUgPSBkZWNvZGVCYXNlNjR1cmxJZ25vcmVQYWRkaW5nKHBhcnRzWzJdKTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIEpXVDogSW52YWxpZCBiYXNlNjR1cmwgZW5jb2RpbmdcIik7XG4gICAgfVxuICAgIGxldCBoZWFkZXI7XG4gICAgbGV0IHBheWxvYWQ7XG4gICAgdHJ5IHtcbiAgICAgICAgaGVhZGVyID0gSlNPTi5wYXJzZShqc29uSGVhZGVyKTtcbiAgICAgICAgcGF5bG9hZCA9IEpTT04ucGFyc2UoanNvblBheWxvYWQpO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgSldUOiBJbnZhbGlkIEpTT04gZW5jb2RpbmdcIik7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgaGVhZGVyICE9PSBcIm9iamVjdFwiIHx8IGhlYWRlciA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIEpXVDogSW52YWxpZCBoZWFkZXJcIik7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcGF5bG9hZCAhPT0gXCJvYmplY3RcIiB8fCBwYXlsb2FkID09PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgSldUOiBJbnZhbGlkIHBheWxvYWRcIik7XG4gICAgfVxuICAgIGNvbnN0IHNpZ25hdHVyZU1lc3NhZ2UgPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUocGFydHNbMF0gKyBcIi5cIiArIHBhcnRzWzFdKTtcbiAgICByZXR1cm4gW2hlYWRlciwgcGF5bG9hZCwgc2lnbmF0dXJlLCBzaWduYXR1cmVNZXNzYWdlXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGVKV1Qoand0KSB7XG4gICAgY29uc3QgcGFydHMgPSBqd3Quc3BsaXQoXCIuXCIpO1xuICAgIGlmIChwYXJ0cy5sZW5ndGggIT09IDMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBKV1RcIik7XG4gICAgfVxuICAgIGxldCBqc29uUGF5bG9hZDtcbiAgICB0cnkge1xuICAgICAgICBqc29uUGF5bG9hZCA9IG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShkZWNvZGVCYXNlNjR1cmxJZ25vcmVQYWRkaW5nKHBhcnRzWzFdKSk7XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBKV1Q6IEludmFsaWQgYmFzZTY0dXJsIGVuY29kaW5nXCIpO1xuICAgIH1cbiAgICBsZXQgcGF5bG9hZDtcbiAgICB0cnkge1xuICAgICAgICBwYXlsb2FkID0gSlNPTi5wYXJzZShqc29uUGF5bG9hZCk7XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBKV1Q6IEludmFsaWQgSlNPTiBlbmNvZGluZ1wiKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwYXlsb2FkICE9PSBcIm9iamVjdFwiIHx8IHBheWxvYWQgPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBKV1Q6IEludmFsaWQgcGF5bG9hZFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHBheWxvYWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlSldUKGhlYWRlckpTT04sIHBheWxvYWRKU09OLCBzaWduYXR1cmUpIHtcbiAgICBjb25zdCBlbmNvZGVkSGVhZGVyID0gZW5jb2RlQmFzZTY0dXJsTm9QYWRkaW5nKG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShoZWFkZXJKU09OKSk7XG4gICAgY29uc3QgZW5jb2RlZFBheWxvYWQgPSBlbmNvZGVCYXNlNjR1cmxOb1BhZGRpbmcobmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHBheWxvYWRKU09OKSk7XG4gICAgY29uc3QgZW5jb2RlZFNpZ25hdHVyZSA9IGVuY29kZUJhc2U2NHVybE5vUGFkZGluZyhzaWduYXR1cmUpO1xuICAgIGNvbnN0IGp3dCA9IGVuY29kZWRIZWFkZXIgKyBcIi5cIiArIGVuY29kZWRQYXlsb2FkICsgXCIuXCIgKyBlbmNvZGVkU2lnbmF0dXJlO1xuICAgIHJldHVybiBqd3Q7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSldUU2lnbmF0dXJlTWVzc2FnZShoZWFkZXJKU09OLCBwYXlsb2FkSlNPTikge1xuICAgIGNvbnN0IGVuY29kZWRIZWFkZXIgPSBlbmNvZGVCYXNlNjR1cmxOb1BhZGRpbmcobmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGhlYWRlckpTT04pKTtcbiAgICBjb25zdCBlbmNvZGVkUGF5bG9hZCA9IGVuY29kZUJhc2U2NHVybE5vUGFkZGluZyhuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUocGF5bG9hZEpTT04pKTtcbiAgICBjb25zdCBtZXNzYWdlID0gZW5jb2RlZEhlYWRlciArIFwiLlwiICsgZW5jb2RlZFBheWxvYWQ7XG4gICAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShtZXNzYWdlKTtcbn1cbmV4cG9ydCBjbGFzcyBKV1RDbGFpbXMge1xuICAgIHRhcmdldDtcbiAgICBjb25zdHJ1Y3Rvcih0YXJnZXQpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgfVxuICAgIGhhc0lzc3VlcigpIHtcbiAgICAgICAgcmV0dXJuIFwiaXNzXCIgaW4gdGhpcy50YXJnZXQ7XG4gICAgfVxuICAgIGlzc3VlcigpIHtcbiAgICAgICAgaWYgKFwiaXNzXCIgaW4gdGhpcy50YXJnZXQgJiYgdHlwZW9mIHRoaXMudGFyZ2V0LmlzcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0LmlzcztcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIG9yIG1pc3NpbmcgJ2lzcycgY2xhaW1cIik7XG4gICAgfVxuICAgIGhhc1N1YmplY3QoKSB7XG4gICAgICAgIHJldHVybiBcInN1YlwiIGluIHRoaXMudGFyZ2V0O1xuICAgIH1cbiAgICBzdWJqZWN0KCkge1xuICAgICAgICBpZiAoXCJzdWJcIiBpbiB0aGlzLnRhcmdldCAmJiB0eXBlb2YgdGhpcy50YXJnZXQuc3ViID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50YXJnZXQuc3ViO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgb3IgbWlzc2luZyAnc3ViJyBjbGFpbVwiKTtcbiAgICB9XG4gICAgaGFzQXVkaWVuY2VzKCkge1xuICAgICAgICByZXR1cm4gXCJhdWRcIiBpbiB0aGlzLnRhcmdldDtcbiAgICB9XG4gICAgYXVkaWVuY2VzKCkge1xuICAgICAgICBpZiAoXCJhdWRcIiBpbiB0aGlzLnRhcmdldCAmJiB0eXBlb2YgdGhpcy50YXJnZXQuYXVkID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBjb25zdCBhdWRpZW5jZXMgPSBbdGhpcy50YXJnZXQuYXVkXTtcbiAgICAgICAgICAgIHJldHVybiBhdWRpZW5jZXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwiYXVkXCIgaW4gdGhpcy50YXJnZXQgJiYgQXJyYXkuaXNBcnJheSh0aGlzLnRhcmdldC5hdWQpKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGF1ZGllbmNlIGluIHRoaXMudGFyZ2V0LmF1ZCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXVkaWVuY2UgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBvciBtaXNzaW5nICdhdWQnIGNsYWltXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRhcmdldC5hdWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBvciBtaXNzaW5nICdhdWQnIGNsYWltXCIpO1xuICAgIH1cbiAgICBoYXNFeHBpcmF0aW9uKCkge1xuICAgICAgICByZXR1cm4gXCJleHBcIiBpbiB0aGlzLnRhcmdldDtcbiAgICB9XG4gICAgZXhwaXJhdGlvbigpIHtcbiAgICAgICAgaWYgKFwiZXhwXCIgaW4gdGhpcy50YXJnZXQgJiZcbiAgICAgICAgICAgIHR5cGVvZiB0aGlzLnRhcmdldC5leHAgPT09IFwibnVtYmVyXCIgJiZcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0LmV4cCA+PSAwICYmXG4gICAgICAgICAgICBOdW1iZXIuaXNJbnRlZ2VyKHRoaXMudGFyZ2V0LmV4cCkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSh0aGlzLnRhcmdldC5leHAgKiAxMDAwKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIG9yIG1pc3NpbmcgJ2V4cCcgY2xhaW1cIik7XG4gICAgfVxuICAgIHZlcmlmeUV4cGlyYXRpb24oKSB7XG4gICAgICAgIGlmIChcImV4cFwiIGluIHRoaXMudGFyZ2V0ICYmXG4gICAgICAgICAgICB0eXBlb2YgdGhpcy50YXJnZXQuZXhwID09PSBcIm51bWJlclwiICYmXG4gICAgICAgICAgICB0aGlzLnRhcmdldC5leHAgPj0gMCAmJlxuICAgICAgICAgICAgTnVtYmVyLmlzSW50ZWdlcih0aGlzLnRhcmdldC5leHApKSB7XG4gICAgICAgICAgICByZXR1cm4gRGF0ZS5ub3coKSA8IHRoaXMudGFyZ2V0LmV4cCAqIDEwMDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBvciBtaXNzaW5nICdleHAnIGNsYWltXCIpO1xuICAgIH1cbiAgICBoYXNOb3RCZWZvcmUoKSB7XG4gICAgICAgIHJldHVybiBcIm5iZlwiIGluIHRoaXMudGFyZ2V0O1xuICAgIH1cbiAgICBub3RCZWZvcmUoKSB7XG4gICAgICAgIGlmIChcIm5iZlwiIGluIHRoaXMudGFyZ2V0ICYmXG4gICAgICAgICAgICB0eXBlb2YgdGhpcy50YXJnZXQubmJmID09PSBcIm51bWJlclwiICYmXG4gICAgICAgICAgICB0aGlzLnRhcmdldC5uYmYgPj0gMCAmJlxuICAgICAgICAgICAgTnVtYmVyLmlzSW50ZWdlcih0aGlzLnRhcmdldC5uYmYpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUodGhpcy50YXJnZXQubmJmICogMTAwMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBvciBtaXNzaW5nICduYmYnIGNsYWltXCIpO1xuICAgIH1cbiAgICB2ZXJpZnlOb3RCZWZvcmUoKSB7XG4gICAgICAgIGlmIChcIm5iZlwiIGluIHRoaXMudGFyZ2V0ICYmXG4gICAgICAgICAgICB0eXBlb2YgdGhpcy50YXJnZXQubmJmID09PSBcIm51bWJlclwiICYmXG4gICAgICAgICAgICB0aGlzLnRhcmdldC5uYmYgPj0gMCAmJlxuICAgICAgICAgICAgTnVtYmVyLmlzSW50ZWdlcih0aGlzLnRhcmdldC5uYmYpKSB7XG4gICAgICAgICAgICByZXR1cm4gRGF0ZS5ub3coKSA+PSB0aGlzLnRhcmdldC5uYmYgKiAxMDAwO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgb3IgbWlzc2luZyAnbmJmJyBjbGFpbVwiKTtcbiAgICB9XG4gICAgaGFzSXNzdWVkQXQoKSB7XG4gICAgICAgIHJldHVybiBcImlhdFwiIGluIHRoaXMudGFyZ2V0O1xuICAgIH1cbiAgICBpc3N1ZWRBdCgpIHtcbiAgICAgICAgaWYgKFwiaWF0XCIgaW4gdGhpcy50YXJnZXQgJiZcbiAgICAgICAgICAgIHR5cGVvZiB0aGlzLnRhcmdldC5pYXQgPT09IFwibnVtYmVyXCIgJiZcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0LmlhdCA+PSAwICYmXG4gICAgICAgICAgICBOdW1iZXIuaXNJbnRlZ2VyKHRoaXMudGFyZ2V0LmlhdCkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSh0aGlzLnRhcmdldC5pYXQgKiAxMDAwKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIG9yIG1pc3NpbmcgJ2lhdCcgY2xhaW1cIik7XG4gICAgfVxuICAgIGhhc0pXVElkKCkge1xuICAgICAgICByZXR1cm4gXCJqdGlcIiBpbiB0aGlzLnRhcmdldDtcbiAgICB9XG4gICAgand0SWQoKSB7XG4gICAgICAgIGlmIChcImp0aVwiIGluIHRoaXMudGFyZ2V0ICYmIHR5cGVvZiB0aGlzLnRhcmdldC5qdGkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRhcmdldC5qdGk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBvciBtaXNzaW5nICdqdGknIGNsYWltXCIpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBKV1NSZWdpc3RlcmVkSGVhZGVycyB7XG4gICAgdGFyZ2V0O1xuICAgIGNvbnN0cnVjdG9yKHRhcmdldCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICB9XG4gICAgaGFzQWxnb3JpdGhtKCkge1xuICAgICAgICByZXR1cm4gXCJhbGdcIiBpbiB0aGlzLnRhcmdldDtcbiAgICB9XG4gICAgYWxnb3JpdGhtKCkge1xuICAgICAgICBpZiAoXCJhbGdcIiBpbiB0aGlzLnRhcmdldCAmJiB0eXBlb2YgdGhpcy50YXJnZXQuYWxnID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50YXJnZXQuYWxnO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgb3IgbWlzc2luZyAnYWxnJyBjbGFpbVwiKTtcbiAgICB9XG4gICAgaGFzSldLU2V0VVJMKCkge1xuICAgICAgICByZXR1cm4gXCJqa3VcIiBpbiB0aGlzLnRhcmdldDtcbiAgICB9XG4gICAgandrU2V0VVJMKCkge1xuICAgICAgICBpZiAoXCJqa3VcIiBpbiB0aGlzLnRhcmdldCAmJiB0eXBlb2YgdGhpcy50YXJnZXQuamt1ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50YXJnZXQuamt1O1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgb3IgbWlzc2luZyAnamt1JyBjbGFpbVwiKTtcbiAgICB9XG4gICAgaGFzSldLKCkge1xuICAgICAgICByZXR1cm4gXCJqd2tcIiBpbiB0aGlzLnRhcmdldDtcbiAgICB9XG4gICAgandrKCkge1xuICAgICAgICBpZiAoXCJqd2tcIiBpbiB0aGlzLnRhcmdldCAmJiB0eXBlb2YgdGhpcy50YXJnZXQuandrID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50YXJnZXQuandrO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgb3IgbWlzc2luZyAnandrJyBjbGFpbVwiKTtcbiAgICB9XG4gICAgaGFzS2V5SWQoKSB7XG4gICAgICAgIHJldHVybiBcImtpZFwiIGluIHRoaXMudGFyZ2V0O1xuICAgIH1cbiAgICBrZXlJZCgpIHtcbiAgICAgICAgaWYgKFwia2lkXCIgaW4gdGhpcy50YXJnZXQgJiYgdHlwZW9mIHRoaXMudGFyZ2V0LmtpZCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0LmtpZDtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIG9yIG1pc3NpbmcgJ2tpZCcgY2xhaW1cIik7XG4gICAgfVxuICAgIGhhc1g1MDlVUkwoKSB7XG4gICAgICAgIHJldHVybiBcIng1dVwiIGluIHRoaXMudGFyZ2V0O1xuICAgIH1cbiAgICB4NTA5VVJMKCkge1xuICAgICAgICBpZiAoXCJ4NXVcIiBpbiB0aGlzLnRhcmdldCAmJiB0eXBlb2YgdGhpcy50YXJnZXQueDV1ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50YXJnZXQueDV1O1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgb3IgbWlzc2luZyAneDV1JyBjbGFpbVwiKTtcbiAgICB9XG4gICAgaGFzWDUwOUNlcnRpZmljYXRlQ2hhaW4oKSB7XG4gICAgICAgIHJldHVybiBcIng1Y1wiIGluIHRoaXMudGFyZ2V0O1xuICAgIH1cbiAgICB4NTA5Q2VydGlmaWNhdGVDaGFpbigpIHtcbiAgICAgICAgaWYgKFwieDVjXCIgaW4gdGhpcy50YXJnZXQgJiYgQXJyYXkuaXNBcnJheSh0aGlzLnRhcmdldC54NWMpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50YXJnZXQueDVjLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgb3IgbWlzc2luZyAneDVjJyBjbGFpbVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNoYWluID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVuY29kZWQgb2YgdGhpcy50YXJnZXQueDVjKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlbmNvZGVkICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgb3IgbWlzc2luZyAneDVjJyBjbGFpbVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY2hhaW4ucHVzaChkZWNvZGVCYXNlNjQoZW5jb2RlZCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgb3IgbWlzc2luZyAneDVjJyBjbGFpbVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2hhaW47XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBvciBtaXNzaW5nICd4NWMnIGNsYWltXCIpO1xuICAgIH1cbiAgICBoYXNYNTA5Q2VydGlmaWNhdGVTSEExVGh1bWJwcmludCgpIHtcbiAgICAgICAgcmV0dXJuIFwieDV0XCIgaW4gdGhpcy50YXJnZXQ7XG4gICAgfVxuICAgIHg1MDlDZXJ0aWZpY2F0ZVNIQTFUaHVtYnByaW50KCkge1xuICAgICAgICBpZiAoXCJ4NXRcIiBpbiB0aGlzLnRhcmdldCAmJiB0eXBlb2YgdGhpcy50YXJnZXQueDV0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRodW1icHJpbnQgPSBkZWNvZGVCYXNlNjR1cmxJZ25vcmVQYWRkaW5nKHRoaXMudGFyZ2V0Lng1dCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRodW1icHJpbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBvciBtaXNzaW5nICd4NXQnIGNsYWltXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgb3IgbWlzc2luZyAneDV0JyBjbGFpbVwiKTtcbiAgICB9XG4gICAgaGFzWDUwOUNlcnRpZmljYXRlU0hBMjU2VGh1bWJwcmludCgpIHtcbiAgICAgICAgcmV0dXJuIFwieDV0I1MyNTZcIiBpbiB0aGlzLnRhcmdldDtcbiAgICB9XG4gICAgeDUwOUNlcnRpZmljYXRlU0hBMjU2VGh1bWJwcmludCgpIHtcbiAgICAgICAgaWYgKFwieDV0I1MyNTZcIiBpbiB0aGlzLnRhcmdldCAmJiB0eXBlb2YgdGhpcy50YXJnZXRbXCJ4NXQjUzI1NlwiXSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aHVtYnByaW50ID0gZGVjb2RlQmFzZTY0dXJsSWdub3JlUGFkZGluZyh0aGlzLnRhcmdldFtcIng1dCNTMjU2XCJdKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGh1bWJwcmludDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIG9yIG1pc3NpbmcgJ3g1dCNTMjU2JyBjbGFpbVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIG9yIG1pc3NpbmcgJ3g1dCNTMjU2JyBjbGFpbVwiKTtcbiAgICB9XG4gICAgaGFzVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwidHlwXCIgaW4gdGhpcy50YXJnZXQ7XG4gICAgfVxuICAgIHR5cGUoKSB7XG4gICAgICAgIGlmIChcInR5cFwiIGluIHRoaXMudGFyZ2V0ICYmIHR5cGVvZiB0aGlzLnRhcmdldC50eXAgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRhcmdldC50eXA7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBvciBtaXNzaW5nICd0eXAnIGNsYWltXCIpO1xuICAgIH1cbiAgICBoYXNDb250ZW50VHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiY3R5XCIgaW4gdGhpcy50YXJnZXQ7XG4gICAgfVxuICAgIGNvbnRlbnRUeXBlKCkge1xuICAgICAgICBpZiAoXCJjdHlcIiBpbiB0aGlzLnRhcmdldCAmJiB0eXBlb2YgdGhpcy50YXJnZXQuY3R5ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50YXJnZXQuY3R5O1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgb3IgbWlzc2luZyAnY3R5JyBjbGFpbVwiKTtcbiAgICB9XG4gICAgaGFzQ3JpdGljYWwoKSB7XG4gICAgICAgIHJldHVybiBcImNyaXRcIiBpbiB0aGlzLnRhcmdldDtcbiAgICB9XG4gICAgY3JpdGljYWwoKSB7XG4gICAgICAgIGlmIChcImNyaXRcIiBpbiB0aGlzLnRhcmdldCAmJiBBcnJheS5pc0FycmF5KHRoaXMudGFyZ2V0LmNyaXQpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50YXJnZXQuY3JpdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIG9yIG1pc3NpbmcgJ2NyaXQnIGNsYWltXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBhdWRpZW5jZSBpbiB0aGlzLnRhcmdldC5jcml0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhdWRpZW5jZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIG9yIG1pc3NpbmcgJ2NyaXQnIGNsYWltXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRhcmdldC5jcml0O1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgb3IgbWlzc2luZyAnY3JpdCcgY2xhaW1cIik7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IGpvc2VBbGdvcml0aG1IUzI1NiA9IFwiSFMyNTZcIjtcbmV4cG9ydCBjb25zdCBqb3NlQWxnb3JpdGhtRVMyNTYgPSBcIkVTMjU2XCI7XG5leHBvcnQgY29uc3Qgam9zZUFsZ29yaXRobVJTMjU2ID0gXCJSUzI1NlwiO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/@oslojs+jwt@0.2.0/node_modules/@oslojs/jwt/dist/index.js\n");

/***/ })

};
;